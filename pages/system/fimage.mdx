---
title: Portable Fuchsia Emulator (FImage)
description: Guide on how to use FImage to emulate Fuchsia.
date: 2022-07-20
image: "https://docs.dahliaos.io/api/og?title=Portable Fuchsia Emulator (FImage)&desc=Guide on how to use FImage to emulate Fuchsia."
---

import { Callout } from "nextra-theme-docs";
import Image from "next/image";
import fimage1 from "../../public/docs/os/fimage/fimage1.webp";
import fimage2 from "../../public/docs/os/fimage/fimage2.webp";
import fimage3 from "../../public/docs/os/fimage/fimage3.webp";
import fimage4 from "../../public/docs/os/fimage/fimage4.webp";

# Portable Fuchsia Emulator (FImage)

<Callout>
  FImage is provided for the convenience of developers and enthusiasts who don't
  want to compile Fuchsia. We are in no way affiliated with Google. For more
  information, see
  [fimage/LICENSE](https://github.com/dahliaOS/fimage/blob/master/LICENSE).
</Callout>

<Callout type="warning" emoji="⚠️">
  The Windows method is highly unstable and should only be used if you
  absolutely cannot install or boot into Linux on your device.
</Callout>

<br />
<Image src={fimage1} />

## TL;DR

- The FImage emulator can be downloaded [here](https://github.com/dahliaOS/fimage/releases).
- For more information on the Fuchsia Emulator, see [this document](https://fuchsia.dev/fuchsia-src/concepts/emulator).

To quickly run FImage, use the commands below inside of its folder:

```sh
./ffx-linux-x64 platform preflight
```

```sh
./network-config
```

```sh
./fimage-gui 4096
```

See [Explore Fuchsia](https://fuchsia.dev/fuchsia-src/get-started/explore_fuchsia) for tips on what you can do next.
When you're done, you can clean up via `dm shutdown`.

## Requirements

- Linux
  - 8GiB of RAM or more.
  - an Intel processor produced after 2010. (If you have a dedicated GPU)
  - A 4th generation Intel processor. (If you do not have a dedicated GPU) (Ivy Bridge _technically_ works, but has all sorts of visual bugs)
  - Ubuntu 20.04 or equivalent.
  - curl, unzip, git.
  - Up-to-date graphics drivers.

Windows (WSL2)
_ Windows 10/11 build that supports WSL2 with WSLG.
_ Ubuntu 20.04 WSL2 with WSLG. \* 16GiB of RAM or more.

## Linux

### Fimage Quick Start

First, download the latest Fimage tool at [fimage/releases](https://github.com/dahliaOS/fimage/releases).
Extract the file `fimage-<version>.zip` and go into the fimage folder.

Begin by checking your hardware, using the provided `ffx` tool. [FFX Documentation on fuchsia.dev](https://fuchsia.dev/fuchsia-src/reference/tools/sdk/ffx)

```sh
./ffx-linux-x64 platform preflight
```

This will print information about the hardware and software. If you are missing any dependencies or lacking hardware, it will let you know. The most common error is related to a lack of a supported GPU, to negate this, FImage uses software rendering by default, which may affect performance. If you have a supported GPU (Intel Ivy Bridge or newer), use the `fimage-gui-hostGPU` script to run FImage.

After following the instructions generated by the ffx preflight checks, you will need to configure networking, using the command below. This will configure the network interfaces for FEMU.

```sh
./network-config
```

Finally, the emulator is ready to run! Select one of the different launch options and use that to launch the emulator.

The command syntax is the same for each option. For example, to launch an FImage instance with 4GiB of RAM and a GUI, use:

```sh
./fimage-gui 4096
```

The launch options are as follows:

- **fimage-headless** - Fuchsia emulator using only the command line
- **fimage-gui** - Fuchsia emulator with the FEMU interface and the Ermine user shell
- **fimage-gui-hostGPU** - Same as fimage-gui, using hostGPU; if supported

### FImage on dahliaOS Linux-based Builds

Fimage can be installed on dahliaOS Linux with:

```sh
dap install fimage
```

## Windows (WSL2)

A **WIP** script is in testing that should allow you to boot Fuchsia in the terminal. Booting Fuchsia with the FImage GUI is possible but highly unstable.

### FImage Quick Start

First install WSL2 on Windows by opening **Powershell** or **Windows Terminal** and enabling WSL.

```sh
wsl --install
```

After that, reboot your computer, open the terminal of your choice and run the first command to use FImage in CLI mode **(recommended)** or use the second command to try FImage in GUI mode. If you use the GUI mode, after closing FImage make sure you run the reset command.

**CLI command**

```sh
wget https://raw.githubusercontent.com/dahliaOS/fimage/master/scripts/wsl.sh && sudo chmod +x wsl.sh; sudo ./wsl.sh -cli
```

**GUI command**

```sh
wget https://raw.githubusercontent.com/dahliaOS/fimage/master/scripts/wsl.sh && sudo chmod +x wsl.sh; sudo ./wsl.sh -gui
```

**Reset command**

```sh
wget https://raw.githubusercontent.com/dahliaOS/fimage/master/scripts/wsl.sh && sudo chmod +x wsl.sh; sudo ./wsl.sh -reset
```

### Screenshots

<br />
<Image src={fimage2} />

Ermine's home screen.

<br />
<Image src={fimage3} />

User agent in a simple web browser.

<Image src={fimage4} />

Command-line interface in GNOME-terminal.

## Flutter Development with FImage

A guide to Flutter development with FImage can be found here: [Setting up FImage for Application Development](/developer/fimage-setup)

### Known Issues

- Performance when drawn with the software GPU is expectedly awful.
- Mouse input is laggy.
- Terminal application within Ermine crashes (Fuchsia bug?); negated by pressing enter in the terminal FEMU was launched from.
- Extreme jank on Ivy Bridge devices using host GPU.
